"use strict";require(["config"],function(){require(["jquery","template","cookie","header","footer"],function(r,n,e,h,o){function a(){r("#shopTable tbody");var e=r.cookie("cart"),o=JSON.parse(e),t=n("trtemp",{tr:o});r("#tbody").html(t)}r("#header").load("/html/component/header.html #headerTop",function(){h.nav(),h.cookie(),h.shopNum()}),r("#footer").load("/html/component/footer.html"),a(),r("tbody").on("click","#delBtn",function(){var e=r(this).parent().parent().find("#Id").html();e=parseInt(e);for(var o=r.cookie("cart"),t=JSON.parse(o),n=0;n<t.length;n++)t[n].id==e&&(console.log(t[n]),t.splice(n,1));var c=JSON.stringify(t);r.cookie("cart",c,{path:"/",expires:1}),a(),r("#header").load("/html/component/header.html #headerTop",function(){h.nav(),h.cookie(),h.shopNum()})}),function(){var n=0,t=r("#allSelect input")[0],c=r("#tbody #select input");t.onchange=function(){if(this.checked){for(var e=0;e<c.length;e++)c[e].checked=!0;n=c.length}else{for(e=0;e<c.length;e++)c[e].checked=!1;n=0}for(var o=0,t=0;t<json.length;t++)1==c[t].checked&&(o+=json[t].price*json[t].num);r("#accounts em").html(o)};for(var e=0;e<c.length;e++)c[e].onchange=function(){this.checked?n++:n--,n===c.length?t.checked=!0:t.checked=!1;for(var e=0,o=0;o<json.length;o++)1==c[o].checked&&(e+=json[o].price*json[o].num);r("#accounts em").html(e)}}()})});